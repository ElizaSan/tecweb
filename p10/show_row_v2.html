<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet"
              href= "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" 
              integrity= "sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
              crossorigin="anonymous" />
        <script>
            function show() {
                // se obtiene el id de la fila donde está el botón presinado
                var rowId = event.target.parentNode.parentNode.id;

                // se obtienen los datos de la fila en forma de arreglo
                var data = document.getElementById(rowId).querySelectorAll(".row-data");
                /**
                querySelectorAll() devuelve una lista de elementos (NodeList) que 
                coinciden con el grupo de selectores CSS indicados.
                (ver: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors)

                En este caso se obtienen todos los datos de la fila con el id encontrado
                y que pertenecen a la clase "row-data".
                */

                var nombre = data[0].innerText;
                var marca = data[1].innerText;
                var modelo = data[2].innerText;
                var precio = data[3].innerText;
                var detalle = data[4].innerText;
                var unidad = data[5].innerText;
                var img = data[6].firstChild.getAttribute('src');

                alert("Nombre: " + nombre + "\nMarca: " + marca+ "\nModelo: " + modelo + "Precio: " + precio + "\nDetalle: " + detalle+ "\nUnidad: " + unidad);
                alert();

            }

            
        </script>
    </head>
    <body>
        
        <table class="table">
            <tbody>
                <tr id="Encabezado">
                    <th scope="col">Num</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Marca</th>
                    <th scope="col">Modelo</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Detalle</th>
                    <th scope="col">Unidad</th>
                    <th scope="col">Img</th>
                    <th scope="col">Enviar</th>
                </tr>

                <tr id="1">
                    <th scope="row">1</th>
                    <td class="row-data">Vehiculo</td>
                    <td class="row-data">Mazda</td>
                    <td class="row-data"><img src="cat.png" width="50" height="50"></td>
                    <td><input type="button" 
                               value="Enviar" 
                               onclick="show()" /></td>
                </tr>

                <tr id="2">
                    <th scope="row">2</th>
                    <td class="row-data">John</td>
                    <td class="row-data">30</td>
                    <td class="row-data"><img src="cat.png" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>

                <tr id="3">
                    <th scope="row">3</th>
                    <td class="row-data">Naman</td>
                    <td class="row-data">20</td>
                    <td class="row-data"><img src="cat.png" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>

                <!-- GET -->
                <script>
                    function send2form(nombre, age) {     //form) { 
                        var urlForm = "http://localhost/tecweb/practicas/p10/formulario_productos.php";
                        var propName = "nombre="+nombre;
                        var propAge = "edad="+age;
                        window.open(urlForm+"?"+propName+"&"+propAge);
                    }
                </script>

                <!-- POST -->
                <script>
                    function send2form(name, age) {
                        var form = document.createElement("form");
        
                        var nombreIn = document.createElement("input");
                        nombreIn.type = 'text';
                        nombreIn.name = 'nombre';
                        nombreIn.value = name;
                        form.appendChild(nombreIn);
        
                        var edadIn = document.createElement("input");
                        edadIn.type = 'text';
                        edadIn.name = 'edad';
                        edadIn.value = age;
                        form.appendChild(edadIn);
        
                        console.log(form);
        
                        form.method = 'POST';
                        form.action = 'http://localhost/tecweb/practicas/p10/formulario_productos.php';  
        
                        document.body.appendChild(form);
                        form.submit();
                    }
                </script>


            </tbody>
        </table>
    </body>
</html>